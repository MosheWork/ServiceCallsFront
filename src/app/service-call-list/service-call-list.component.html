

  <div class="service-call-page" dir="rtl">

  <!-- RIGHT 15% - user card -->
<div class="sc-col sc-right">

  <mat-card class="sc-user-card">
    <div class="sc-user-row">
      <img
        class="sc-user-pic"
        [src]="profilePictureUrl || 'assets/default-user.png'"
        alt="user"
        (error)="profilePictureUrl = 'assets/default-user.png'"
      />
      <div class="sc-user-text">
        <div class="sc-user-name">{{ UserName || loggedUser || '××•×¨×—' }}</div>
        <div class="sc-user-sub">××—×•×‘×¨</div>
      </div>
    </div>
  </mat-card>

  <!-- âœ… NEW: user stats card (same width) -->
  <mat-card class="sc-user-card sc-user-stats-card">
    <div class="sc-user-stats-title">×¡×˜×˜×™×¡×˜×™×§×” ××™×©×™×ª</div>

    <div class="sc-user-stats-gauges">
      <div class="gauge-item">
        <ngx-gauge
          [size]="120"
          [thick]="10"
          [value]="closedTodayCount"
          [max]="closedTodayMax"
          [label]="'× ×¡×’×¨×• ×”×™×•×'"
          [append]="' ×§×¨×™××•×ª'">
        </ngx-gauge>
      </div>

      <div class="gauge-item">
        <ngx-gauge
          [size]="120"
          [thick]="10"
          [value]="closedMonthCount"
          [max]="closedMonthMax"
          [label]="'× ×¡×’×¨×• ×”×—×•×“×©'"
          [append]="' ×§×¨×™××•×ª'">
        </ngx-gauge>
      </div>
    </div>

    <div class="sc-user-stats-hint" *ngIf="userStatsError">
      {{ userStatsError }}
    </div>
  </mat-card>

</div>

    <!-- MIDDLE 70% -->
    <div class="sc-col sc-center">
     

        <!-- ===== ×›×•×ª×¨×ª ×¢×œ×™×•× ×” + ×§×¨×™××•×ª ×—×“×©×•×ª ===== -->
        <mat-card class="header-card">
          <div class="header-main">
            <div class="header-text">
              <h1>×§×¨×™××•×ª ×©×™×¨×•×ª</h1>
              <div class="header-subtitle">
                ×§×¨×™××•×ª ×—×“×©×•×ª:
                <span class="new-count">{{ newCallsCount }}</span>
              </div>
            </div>
          </div>
        </mat-card>
    
        <!-- ğŸ” Filter card -->
        <mat-card class="filter-card">
          <div class="filter-row">
    
            <!-- ×—×™×¤×•×© ×—×•×¤×©×™ -->
            <mat-form-field appearance="outline" class="filter-field">
              <mat-label>×—×™×¤×•×© ×—×•×¤×©×™</mat-label>
              <input
                matInput
                [(ngModel)]="searchText"
                (ngModelChange)="applyFilter()"
                placeholder="×›×•×ª×¨×ª, ×ª×™××•×¨, ××©×ª××©, ××—×©×‘..."
              />
              <button
                *ngIf="searchText"
                matSuffix
                mat-icon-button
                aria-label="× ×§×”"
                (click)="searchText=''; applyFilter()">
                <mat-icon>close</mat-icon>
              </button>
            </mat-form-field>
    
            <div class="filter-buttons">
              <button mat-stroked-button color="primary" (click)="clearFilters()">
                ××™×¤×•×¡ ×¤×™×œ×˜×¨×™×
              </button>
              <button mat-flat-button color="primary" (click)="loadData()">
                ×¨×¢× ×Ÿ
              </button>
            </div>
          </div>
        </mat-card>
    
        <!-- ××¦×‘ ×˜×¢×™× ×” / ×©×’×™××” -->
        <div class="loading-container" *ngIf="isLoading">
          <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
          <div class="loading-text">×˜×•×¢×Ÿ × ×ª×•× ×™×...</div>
        </div>
    
        <mat-card *ngIf="!isLoading && errorMessage" class="error-card">
          {{ errorMessage }}
        </mat-card>
    
        <!-- ×˜×‘×œ×” -->
        <mat-card *ngIf="!isLoading && !errorMessage">
          <div class="table-container">
            <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z2">
    
              <!-- # (×œ×œ× ×¡×•×¨×˜) -->
              <ng-container matColumnDef="index">
                <th mat-header-cell *matHeaderCellDef>#</th>
                <td mat-cell *matCellDef="let row; let i = index">
                  {{ i + 1 }}
                </td>
              </ng-container>
    
              <!-- ×ª××¨×™×š ×¤×ª×™×—×” + ×¤×™×œ×˜×¨ ×˜×•×•×— ×ª××¨×™×›×™× -->
              <ng-container matColumnDef="entryTime">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                  <div class="header-date-filter">
                    <span class="header-title">×ª××¨×™×š ×¤×ª×™×—×”</span>
    
                    <button
                      mat-icon-button
                      class="header-date-icon"
                      (click)="entryDateRangePicker.open()"
                      [ngClass]="{ 'active-filter': entryDateFrom || entryDateTo }">
                      <mat-icon>calendar_today</mat-icon>
                    </button>
    
                    <button
                      *ngIf="entryDateFrom || entryDateTo"
                      mat-icon-button
                      class="header-date-clear"
                      (click)="clearEntryDateRange($event)">
                      <mat-icon>close</mat-icon>
                    </button>
    
                    <mat-date-range-input
                      class="header-hidden-date-input"
                      [rangePicker]="entryDateRangePicker">
                      <input matStartDate [(ngModel)]="entryDateFrom" (dateChange)="onEntryDateRangeChange()">
                      <input matEndDate [(ngModel)]="entryDateTo" (dateChange)="onEntryDateRangeChange()">
                    </mat-date-range-input>
    
                    <mat-date-range-picker #entryDateRangePicker></mat-date-range-picker>
                  </div>
                </th>
    
                <td mat-cell *matCellDef="let row">
                  {{ formatDate(row.entryTime) }}
                </td>
              </ng-container>
              <!-- ×›×•×ª×¨×ª + ×¤×™×œ×˜×¨ + sort -->
    <ng-container matColumnDef="title">
      <th mat-header-cell *matHeaderCellDef mat-sort-header="title">
        <div class="header-filter-wrapper">
          <span class="header-title">×›×•×ª×¨×ª</span>
    
          <button
            mat-icon-button
            class="header-filter-button"
            [matMenuTriggerFor]="titleMenu"
            (click)="$event.stopPropagation()">
            <mat-icon
              class="header-filter-icon"
              [ngClass]="{ 'active-filter': selectedTitles.length > 0 }">
              filter_list
            </mat-icon>
          </button>
        </div>
    
        <mat-menu #titleMenu="matMenu" xPosition="before" [overlapTrigger]="false">
          <div class="filter-menu">
            <div class="filter-menu-actions">
              <button mat-stroked-button color="primary" class="filter-action-btn"
                      (click)="selectAllTitles($event)">
                ×‘×—×¨ ×”×›×œ
              </button>
              <button mat-stroked-button color="warn" class="filter-action-btn reset"
                      (click)="clearTitleFilter($event)">
                ××¤×¡ ×¡× ×Ÿ
              </button>
            </div>
    
            <mat-divider></mat-divider>
    
            <div class="filter-options">
              <mat-checkbox
                *ngFor="let t of distinctTitles"
                [checked]="selectedTitles.includes(t)"
                (click)="$event.stopPropagation()"
                (change)="onTitleCheckboxChange($event.checked, t)">
                {{ t }}
              </mat-checkbox>
            </div>
          </div>
        </mat-menu>
      </th>
    
      <td mat-cell *matCellDef="let row">
        {{ row.title }}
      </td>
    </ng-container>
    
              
            <!-- ××©×ª××© ×¤×•×ª×— + ×¤×™×œ×˜×¨ + sort -->
            <ng-container matColumnDef="requestUser">
              <th mat-header-cell *matHeaderCellDef mat-sort-header="requestUser">
                <div class="header-filter-wrapper">
                  <span class="header-title">××©×ª××© ×¤×•×ª×—</span>
    
                  <button
                    mat-icon-button
                    class="header-filter-button"
                    [matMenuTriggerFor]="requestUserMenu"
                    (click)="$event.stopPropagation()">
                    <mat-icon
                      class="header-filter-icon"
                      [ngClass]="{ 'active-filter': selectedRequestUsers.length > 0 }">
                      filter_list
                    </mat-icon>
                  </button>
                </div>
    
                <mat-menu #requestUserMenu="matMenu" xPosition="before" [overlapTrigger]="false">
                  <div class="filter-menu">
                    <div class="filter-menu-actions">
                      <button mat-stroked-button
                              color="primary"
                              class="filter-action-btn"
                              (click)="selectAllRequestUsers($event)">
                        ×‘×—×¨ ×”×›×œ
                      </button>
                      <button mat-stroked-button
                              color="warn"
                              class="filter-action-btn reset"
                              (click)="clearRequestUserFilter($event)">
                        ××¤×¡ ×¡× ×Ÿ
                      </button>
                    </div>
    
                    <mat-divider></mat-divider>
    
                    <div class="filter-options">
                      <mat-checkbox
                        *ngFor="let u of distinctRequestUsers"
                        [checked]="selectedRequestUsers.includes(u)"
                        (click)="$event.stopPropagation()"
                        (change)="onRequestUserCheckboxChange($event.checked, u)">
                        {{ u }}
                      </mat-checkbox>
                    </div>
                  </div>
                </mat-menu>
              </th>
    
              <td mat-cell *matCellDef="let row">
                {{ row.requestUser }}
              </td>
            </ng-container>
    
            <!-- ×˜×œ×¤×•×Ÿ + ×¤×™×œ×˜×¨ + sort -->
            <ng-container matColumnDef="callbackPhone">
              <th mat-header-cell *matHeaderCellDef mat-sort-header="callbackPhone">
                <div class="header-filter-wrapper">
                  <span class="header-title">×˜×œ×¤×•×Ÿ</span>
    
                  <button
                    mat-icon-button
                    class="header-filter-button"
                    [matMenuTriggerFor]="callbackPhoneMenu"
                    (click)="$event.stopPropagation()">
                    <mat-icon
                      class="header-filter-icon"
                      [ngClass]="{ 'active-filter': selectedCallbackPhones.length > 0 }">
                      filter_list
                    </mat-icon>
                  </button>
                </div>
    
                <mat-menu #callbackPhoneMenu="matMenu" xPosition="before" [overlapTrigger]="false">
                  <div class="filter-menu">
                    <div class="filter-menu-actions">
                      <button mat-stroked-button
                              color="primary"
                              class="filter-action-btn"
                              (click)="selectAllCallbackPhones($event)">
                        ×‘×—×¨ ×”×›×œ
                      </button>
                      <button mat-stroked-button
                              color="warn"
                              class="filter-action-btn reset"
                              (click)="clearCallbackPhoneFilter($event)">
                        ××¤×¡ ×¡× ×Ÿ
                      </button>
                    </div>
    
                    <mat-divider></mat-divider>
    
                    <div class="filter-options">
                      <mat-checkbox
                        *ngFor="let p of distinctCallbackPhones"
                        [checked]="selectedCallbackPhones.includes(p)"
                        (click)="$event.stopPropagation()"
                        (change)="onCallbackPhoneCheckboxChange($event.checked, p)">
                        {{ p }}
                      </mat-checkbox>
                    </div>
                  </div>
                </mat-menu>
              </th>
    
              <td mat-cell *matCellDef="let row">
                {{ row.callbackPhone }}
              </td>
            </ng-container>
    
            <!-- ×§×˜×’×•×¨×™×” ×¨××©×™×ª + ×¤×™×œ×˜×¨ + sort -->
            <ng-container matColumnDef="mainCategoryName">
              <th mat-header-cell *matHeaderCellDef mat-sort-header="mainCategoryName">
                <div class="header-filter-wrapper">
                  <span class="header-title">×§×˜×’×•×¨×™×”</span>
    
                  <button
                    mat-icon-button
                    class="header-filter-button"
                    [matMenuTriggerFor]="mainCategoryMenu"
                    (click)="$event.stopPropagation()">
                    <mat-icon
                      class="header-filter-icon"
                      [ngClass]="{ 'active-filter': selectedMainCategories.length > 0 }">
                      filter_list
                    </mat-icon>
                  </button>
                </div>
    
                <mat-menu #mainCategoryMenu="matMenu" xPosition="before" [overlapTrigger]="false">
                  <div class="filter-menu">
                    <div class="filter-menu-actions">
                      <button mat-stroked-button
                              color="primary"
                              class="filter-action-btn"
                              (click)="selectAllMainCategories($event)">
                        ×‘×—×¨ ×”×›×œ
                      </button>
                      <button mat-stroked-button
                              color="warn"
                              class="filter-action-btn reset"
                              (click)="clearMainCategoryFilter($event)">
                        ××¤×¡ ×¡× ×Ÿ
                      </button>
                    </div>
    
                    <mat-divider></mat-divider>
    
                    <div class="filter-options">
                      <mat-checkbox
                        *ngFor="let m of distinctMainCategories"
                        [checked]="selectedMainCategories.includes(m)"
                        (click)="$event.stopPropagation()"
                        (change)="onMainCategoryCheckboxChange($event.checked, m)">
                        {{ m }}
                      </mat-checkbox>
                    </div>
                  </div>
                </mat-menu>
              </th>
    
              <td mat-cell *matCellDef="let row">
                {{ row.mainCategoryName }}
              </td>
            </ng-container>
    
            <!-- ×ª×ªÖ¾×§×˜×’×•×¨×™×” 1 + ×¤×™×œ×˜×¨ + sort -->
            <ng-container matColumnDef="subCategory1Name">
              <th mat-header-cell *matHeaderCellDef mat-sort-header="subCategory1Name">
                <div class="header-filter-wrapper">
                  <span class="header-title">×ª×ªÖ¾×§×˜×’×•×¨×™×” 1</span>
    
                  <button
                    mat-icon-button
                    class="header-filter-button"
                    [matMenuTriggerFor]="subCategory1Menu"
                    (click)="$event.stopPropagation()">
                    <mat-icon
                      class="header-filter-icon"
                      [ngClass]="{ 'active-filter': selectedSubCategory1.length > 0 }">
                      filter_list
                    </mat-icon>
                  </button>
                </div>
    
                <mat-menu #subCategory1Menu="matMenu" xPosition="before" [overlapTrigger]="false">
                  <div class="filter-menu">
                    <div class="filter-menu-actions">
                      <button mat-stroked-button
                              color="primary"
                              class="filter-action-btn"
                              (click)="selectAllSubCategory1($event)">
                        ×‘×—×¨ ×”×›×œ
                      </button>
                      <button mat-stroked-button
                              color="warn"
                              class="filter-action-btn reset"
                              (click)="clearSubCategory1Filter($event)">
                        ××¤×¡ ×¡× ×Ÿ
                      </button>
                    </div>
    
                    <mat-divider></mat-divider>
    
                    <div class="filter-options">
                      <mat-checkbox
                        *ngFor="let s1 of distinctSubCategory1"
                        [checked]="selectedSubCategory1.includes(s1)"
                        (click)="$event.stopPropagation()"
                        (change)="onSubCategory1CheckboxChange($event.checked, s1)">
                        {{ s1 }}
                      </mat-checkbox>
                    </div>
                  </div>
                </mat-menu>
              </th>
    
              <td mat-cell *matCellDef="let row">
                {{ row.subCategory1Name }}
              </td>
            </ng-container>
    
            <!-- ×ª×ªÖ¾×§×˜×’×•×¨×™×” 2 + ×¤×™×œ×˜×¨ + sort -->
            <ng-container matColumnDef="subCategory2Name">
              <th mat-header-cell *matHeaderCellDef mat-sort-header="subCategory2Name">
                <div class="header-filter-wrapper">
                  <span class="header-title">×ª×ªÖ¾×§×˜×’×•×¨×™×” 2</span>
    
                  <button
                    mat-icon-button
                    class="header-filter-button"
                    [matMenuTriggerFor]="subCategory2Menu"
                    (click)="$event.stopPropagation()">
                    <mat-icon
                      class="header-filter-icon"
                      [ngClass]="{ 'active-filter': selectedSubCategory2.length > 0 }">
                      filter_list
                    </mat-icon>
                  </button>
                </div>
    
                <mat-menu #subCategory2Menu="matMenu" xPosition="before" [overlapTrigger]="false">
                  <div class="filter-menu">
                    <div class="filter-menu-actions">
                      <button mat-stroked-button
                              color="primary"
                              class="filter-action-btn"
                              (click)="selectAllSubCategory2($event)">
                        ×‘×—×¨ ×”×›×œ
                      </button>
                      <button mat-stroked-button
                              color="warn"
                              class="filter-action-btn reset"
                              (click)="clearSubCategory2Filter($event)">
                        ××¤×¡ ×¡× ×Ÿ
                      </button>
                    </div>
    
                    <mat-divider></mat-divider>
    
                    <div class="filter-options">
                      <mat-checkbox
                        *ngFor="let s2 of distinctSubCategory2"
                        [checked]="selectedSubCategory2.includes(s2)"
                        (click)="$event.stopPropagation()"
                        (change)="onSubCategory2CheckboxChange($event.checked, s2)">
                        {{ s2 }}
                      </mat-checkbox>
                    </div>
                  </div>
                </mat-menu>
              </th>
    
              <td mat-cell *matCellDef="let row">
                {{ row.subCategory2Name }}
              </td>
            </ng-container>
    
            <!-- ×¡×˜×˜×•×¡ + ×¤×™×œ×˜×¨ + sort -->
            <ng-container matColumnDef="statusName">
              <th mat-header-cell *matHeaderCellDef mat-sort-header="statusName">
                <div class="header-filter-wrapper">
                  <span class="header-title">×¡×˜×˜×•×¡</span>
    
                  <button
                    mat-icon-button
                    class="header-filter-button"
                    [matMenuTriggerFor]="statusMenu"
                    (click)="$event.stopPropagation()">
                    <mat-icon
                      class="header-filter-icon"
                      [ngClass]="{ 'active-filter': selectedStatuses.length > 0 }">
                      filter_list
                    </mat-icon>
                  </button>
                </div>
    
                <mat-menu #statusMenu="matMenu" xPosition="before" [overlapTrigger]="false">
                  <div class="filter-menu">
                    <div class="filter-menu-actions">
                      <button mat-stroked-button
                              color="primary"
                              class="filter-action-btn"
                              (click)="selectAllStatuses($event)">
                        ×‘×—×¨ ×”×›×œ
                      </button>
                      <button mat-stroked-button
                              color="warn"
                              class="filter-action-btn reset"
                              (click)="clearStatusFilter($event)">
                        ××¤×¡ ×¡× ×Ÿ
                      </button>
                    </div>
    
                    <mat-divider></mat-divider>
    
                    <div class="filter-options">
                      <mat-checkbox
                        *ngFor="let s of distinctStatuses"
                        [checked]="selectedStatuses.includes(s)"
                        (click)="$event.stopPropagation()"
                        (change)="onStatusCheckboxChange($event.checked, s)">
                        {{ s }}
                      </mat-checkbox>
                    </div>
                  </div>
                </mat-menu>
              </th>
    
              <td mat-cell *matCellDef="let row">
                {{ row.statusName }}
              </td>
            </ng-container>
    
            <!-- ×¢×“×™×¤×•×ª + ×¤×™×œ×˜×¨ + sort -->
            <ng-container matColumnDef="priorityName">
              <th mat-header-cell *matHeaderCellDef mat-sort-header="priorityName">
                <div class="header-filter-wrapper">
                  <span class="header-title">×¢×“×™×¤×•×ª</span>
    
                  <button
                    mat-icon-button
                    class="header-filter-button"
                    [matMenuTriggerFor]="priorityMenu"
                    (click)="$event.stopPropagation()">
                    <mat-icon
                      class="header-filter-icon"
                      [ngClass]="{ 'active-filter': selectedPriorities.length > 0 }">
                      filter_list
                    </mat-icon>
                  </button>
                </div>
    
                <mat-menu #priorityMenu="matMenu" xPosition="before" [overlapTrigger]="false">
                  <div class="filter-menu">
                    <div class="filter-menu-actions">
                      <button mat-stroked-button
                              color="primary"
                              class="filter-action-btn"
                              (click)="selectAllPriorities($event)">
                        ×‘×—×¨ ×”×›×œ
                      </button>
                      <button mat-stroked-button
                              color="warn"
                              class="filter-action-btn reset"
                              (click)="clearPriorityFilter($event)">
                        ××¤×¡ ×¡× ×Ÿ
                      </button>
                    </div>
    
                    <mat-divider></mat-divider>
    
                    <div class="filter-options">
                      <mat-checkbox
                        *ngFor="let p of distinctPriorities"
                        [checked]="selectedPriorities.includes(p)"
                        (click)="$event.stopPropagation()"
                        (change)="onPriorityCheckboxChange($event.checked, p)">
                        {{ p }}
                      </mat-checkbox>
                    </div>
                  </div>
                </mat-menu>
              </th>
    
              <td mat-cell *matCellDef="let row">
                {{ row.priorityName }}
              </td>
            </ng-container>
    
            <!-- ×¦×•×•×ª ××˜×¤×œ + ×¤×™×œ×˜×¨ + sort -->
            <ng-container matColumnDef="teamInChargeName">
              <th mat-header-cell *matHeaderCellDef mat-sort-header="teamInChargeName">
                <div class="header-filter-wrapper">
                  <span class="header-title">×¦×•×•×ª ××˜×¤×œ</span>
    
                  <button
                    mat-icon-button
                    class="header-filter-button"
                    [matMenuTriggerFor]="teamMenu"
                    (click)="$event.stopPropagation()">
                    <mat-icon
                      class="header-filter-icon"
                      [ngClass]="{ 'active-filter': selectedTeams.length > 0 }">
                      filter_list
                    </mat-icon>
                  </button>
                </div>
    
                <mat-menu #teamMenu="matMenu" xPosition="before" [overlapTrigger]="false">
                  <div class="filter-menu">
                    <div class="filter-menu-actions">
                      <button mat-stroked-button
                              color="primary"
                              class="filter-action-btn"
                              (click)="selectAllTeams($event)">
                        ×‘×—×¨ ×”×›×œ
                      </button>
                      <button mat-stroked-button
                              color="warn"
                              class="filter-action-btn reset"
                              (click)="clearTeamFilter($event)">
                        ××¤×¡ ×¡× ×Ÿ
                      </button>
                    </div>
    
                    <mat-divider></mat-divider>
    
                    <div class="filter-options">
                      <mat-checkbox
                        *ngFor="let t of distinctTeams"
                        [checked]="selectedTeams.includes(t)"
                        (click)="$event.stopPropagation()"
                        (change)="onTeamCheckboxChange($event.checked, t)">
                        {{ t }}
                      </mat-checkbox>
                    </div>
                  </div>
                </mat-menu>
              </th>
    
              <td mat-cell *matCellDef="let row">
                {{ row.teamInChargeName }}
              </td>
            </ng-container>
    
            <!-- ××©×ª××© ××˜×¤×œ + ×¤×™×œ×˜×¨ + sort -->
            <ng-container matColumnDef="userInChargeName">
              <th mat-header-cell *matHeaderCellDef mat-sort-header="userInChargeName">
                <div class="header-filter-wrapper">
                  <span class="header-title">××©×ª××© ××˜×¤×œ</span>
    
                  <button
                    mat-icon-button
                    class="header-filter-button"
                    [matMenuTriggerFor]="userInChargeMenu"
                    (click)="$event.stopPropagation()">
                    <mat-icon
                      class="header-filter-icon"
                      [ngClass]="{ 'active-filter': selectedUsersInCharge.length > 0 }">
                      filter_list
                    </mat-icon>
                  </button>
                </div>
    
                <mat-menu #userInChargeMenu="matMenu" xPosition="before" [overlapTrigger]="false">
                  <div class="filter-menu">
                    <div class="filter-menu-actions">
                      <button mat-stroked-button
                              color="primary"
                              class="filter-action-btn"
                              (click)="selectAllUsersInCharge($event)">
                        ×‘×—×¨ ×”×›×œ
                      </button>
                      <button mat-stroked-button
                              color="warn"
                              class="filter-action-btn reset"
                              (click)="clearUserInChargeFilter($event)">
                        ××¤×¡ ×¡× ×Ÿ
                      </button>
                    </div>
    
                    <mat-divider></mat-divider>
    
                    <div class="filter-options">
                      <mat-checkbox
                        *ngFor="let u of distinctUsersInCharge"
                        [checked]="selectedUsersInCharge.includes(u)"
                        (click)="$event.stopPropagation()"
                        (change)="onUserInChargeCheckboxChange($event.checked, u)">
                        {{ u }}
                      </mat-checkbox>
                    </div>
                  </div>
                </mat-menu>
              </th>
    
              <td mat-cell *matCellDef="let row">
                {{ row.userInChargeName }}
              </td>
            </ng-container>
    
              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    
              <tr mat-row
                  *matRowDef="let row; columns: displayedColumns"
                  (click)="openDetails(row)"
                  class="clickable-row">
              </tr>
    
            </table>
          </div>
    
          <mat-paginator
            [pageSize]="20"
            [pageSizeOptions]="[10, 20, 50, 100]"
            showFirstLastButtons>
          </mat-paginator>
        </mat-card>
    
      
    </div>
  
    <!-- LEFT 15% -->
    <div class="sc-col sc-left">
      <!-- ×¨×™×§ ×›×¨×’×¢ / ×›×¨×˜×™×¡×™× ×¢×ª×™×“×™×™× -->
      <mat-card class="sc-side-placeholder">
        <div class="ph-title">×¤×× ×œ ×¦×“ (×¢×ª×™×“×™)</div>
        <div class="ph-sub">×›××Ÿ ×™×”×™×• ×›×¨×˜×™×¡×™×/×¡×˜×˜×™×¡×˜×™×§×•×ª</div>
      </mat-card>
    </div>
  
  </div>

  <!-- LEFT: main content -->
 

